# 前端界面设计参考

## 1. 框架与整体布局
- 技术栈：Vue 3 + Vite，使用 Pinia 管理用户、行程、费用与语音状态，Vue Router 区分页面。
- 布局：顶部导航栏 + 左侧折叠菜单（桌面端），主要视图容纳地图与信息面板；移动端切换为顶部导航 + 底部 Tab。
- 地图：高德地图 SDK 嵌入右侧（桌面）或详情页底部（移动），覆盖 POI 标记、路线高亮与弹窗。
- 语音入口：右下角悬浮按钮唤起语音浮层，浮层展示录音动画、实时转写、提交与取消。

## 2. 视觉风格
- 主题：浅色背景、圆角卡片、阴影弱化，突出简洁与可读性。
- 配色：蓝绿系强调行程/导航氛围，按钮与重点提示使用橙色作为强调色。
- 字体：无衬线字体，统一字号与行距；使用 12/14/16/20/24pt 作为层级基线。
- 响应式：采用 12 栅格系统，桌面端保持地图与信息面板并行，移动端切换为纵向排列，并以 Tab 控制地图/列表显示。

## 3. 页面结构
### 3.1 Home（首页）
- 顶部 Hero 区：主标题、功能说明、CTA 按钮（"开始规划"）。
- 快速入口：语音唤起按钮、快速表单入口。
- 最近行程：卡片轮播显示最近保存的行程摘要。
- 功能亮点：三列卡片展示智能行程、费用管理、语音助理。

### 3.2 CreateItinerary（创建行程）
- 左侧步骤表单：目的地 → 日期 → 预算 → 同行人数 → 偏好标签 → 补充说明，顶部显示步骤指示器。
- 右侧实时摘要卡：展示当前已填写内容，提交后切换为 LLM 调用状态与进度条。
- 生成结果浮层：展示行程概览，可保存、继续编辑或跳转详情页。
- 草稿：提供暂存按钮，支持部分信息保存。

### 3.3 ItineraryList（行程列表）
- 顶部工具栏：搜索框、标签筛选、多选排序。
- 行程卡片：目的地、日期区间、预算概览、状态标签、快捷操作（查看/复制/删除）。
- 空状态：展示引导提示与“创建新行程”按钮。

### 3.4 ItineraryDetail（行程详情）
- 顶部汇总栏：目的地、日期、预算对比（计划 vs 预计）、操作按钮（保存、分享、删除）。
- 主体：
  - 日程时间线：按天 / Morning / Afternoon / Evening 卡片，包含活动描述、推荐理由、预计花费。
  - 地图面板：同步高亮当前日程 POI，支持交通方式切换。
  - AI 提醒栏：动态提示注意事项或备选方案。
- 侧边栏：费用统计（环形图、剩余预算提示）、关联费用列表、语音录入入口。

### 3.5 ExpenseTracker（费用中心）
- 顶部预算总览：计划预算、实际支出、剩余预算。
- 图表区：类别环形图、日期趋势曲线；展示预算 vs 实际对比。
- 费用列表：可按类别、日期、金额筛选，支持语音录入和手动编辑。
- 异常提示：超支时显示橙色提醒卡片。

### 3.6 VoiceCenter（语音中心）
- 入口：浮层或独立页面。
- 录音区域：动画、计时器、实时转写文本，提供提交/取消按钮。
- 历史记录：列出最近语音请求，展示解析后的意图（例如创建行程或录入开销）。
- 编辑工具：允许用户在提交前修订转写结果。

### 3.7 登录/注册
- 简化表单：邮箱 + 密码，支持“记住我”与“忘记密码”。
- 登录后：导航栏右上角显示用户头像，点击展示账户设置、退出登录。

## 4. 核心组件
- 通用组件：
  - `PrimaryButton`、`SecondaryButton`
  - `Card`、`Modal`、`Drawer`
  - `FloatingActionButton`（语音唤起）
  - `StepperForm`、`LoadingOverlay`
- 业务组件：
  - `ItineraryTimeline`
  - `MapPanel`
  - `BudgetSummary`
  - `ExpenseTable`
  - `VoiceRecorder`
  - `LLMStatusIndicator`

## 5. 状态管理与服务调用
- Pinia 模块：
  - `useUserStore`：认证状态、Supabase 用户信息。
  - `useItineraryStore`：行程列表、当前选中行程、生成状态。
  - `useExpenseStore`：费用明细、预算统计。
  - `useVoiceStore`：录音状态、实时转写结果、语音请求历史。
- 服务层封装：
  - `services/api.js`：HTTP 客户端实例。
  - `services/itinerary.js`：行程 CRUD、LLM 调用。
  - `services/navigation.js`：高德地图查询、路线规划。
  - `services/expense.js`：费用增删改查与统计。
  - `services/voice.js`：科大讯飞语音识别接口。

## 6. 关键交互
- LLM 调用：表单提交后弹出加载浮层，展示阶段性提示和估计耗时，成功后跳转详情页。
- 语音录入：悬浮按钮唤起录音界面，实时转写可编辑，确认后触发对应业务操作。
- 地图联动：点击时间线项目时地图聚焦对应 POI；地图标记被点击时弹窗显示行程详情。
- 异常处理：当外部 API 失败时展示降级提示卡，提供重试与查看示例数据的按钮。

## 7. 迭代建议
1. 优先搭建路由、布局框架、Pinia 状态骨架。
2. 实现首页和行程创建流程，打通与后端的行程生成接口。
3. 迭代行程详情与费用中心，接入 Supabase 数据。
4. 补充语音交互与地图联动细节。
5. 进行响应式适配与动效优化。
